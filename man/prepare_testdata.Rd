% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/test-utils.R
\name{prepare_testdata}
\alias{prepare_testdata}
\title{Prepare a small, reproducible flow cytometry test dataset}
\usage{
prepare_testdata()
}
\value{
A named \code{list} with elements \code{fs}, \code{df}, \code{relevant_mn},
\code{marker_to_gate}, and \code{gatingsets}.
}
\description{
This helper simulates two 3-sample \code{flowCore::flowSet}s measured on two
pseudo-devices ("CyA" and "CyB"), constructs simple rectangular gates for a
minimal gating hierarchy, and returns both the raw data and convenient
metadata for unit tests and examples.
}
\details{
Imagine the scenario where you have three samples measured on both devices,
and the second device (CyB) has a constant shift of +5 in all channels to simulate a
device effect.

The second device (CyB) is constructed by adding a constant shift (+5) to all
expression channels, providing a simple between-device effect useful for
normalization or alignment tests.

The returned list contains:
\itemize{
\item \code{fs}: A \code{flowCore::flowSet} with six samples (three per device).
\item \code{df}: A \code{tibble} of sample‑level metadata (Study, Device, SuperSample, Sample, Time, outcomes, split).
\item \code{relevant_mn}: Character vector of marker names (prefixed as \code{"M#-<channel>"} for stability in tests).
\item \code{marker_to_gate}: Named \code{list} mapping channels to example gating paths.
\item \code{gatingsets}: \code{list} of per‑sample \code{flowWorkspace::GatingSet} objects
(here, simple references to a shared template for speed).
}
}
\keyword{datasets}
\keyword{testing}
